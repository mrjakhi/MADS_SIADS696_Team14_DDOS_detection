# MADS_SIADS696_Team14_DDOS_detection
Introduction
What is a DDOS attack ?
“A distributed denial-of-service (DDoS) attack is a malicious attempt to disrupt the normal traffic of a targeted server, service or network by overwhelming the target or its surrounding infrastructure with a flood of Internet traffic.”

Distributed denial of service (DDoS) attacks is a subclass of denial of service (DoS) attacks.
Distributed Denial of Service attacks are a serious threat to organizations that provide internet-based services and applications. These attacks inhibit the server’s ability to provide resources to genuine customers, they directly target servers resources such as bandwidth and buffer size to slow it down.
A DDoS attack involves multiple connected online devices, collectively known as a botnet, which are used to overwhelm a target website with fake traffic. DDoS attacks can indeed have a devastating impact on internet-based services. These attacks are designed to overwhelm a target system or network with a flood of traffic, making it difficult or impossible for legitimate users to access the service or application. DDoS attacks can be launched using a variety of techniques, such as flooding the target with large volumes of traffic, exploiting vulnerabilities in network protocols, or using a botnet to coordinate the attack across multiple compromised devices.
The scale and sophistication of these attacks have increased over time, making them a significant threat to internet-based businesses and organizations. The impact of a DDoS attack can be severe, ranging from temporary disruption of services to long-term damage to a company's reputation and financial standing. In some cases, DDoS attacks have been used as a smokescreen for other malicious activities, such as data theft or system compromise. 
To mitigate the risk of DDoS attacks, organizations need to implement a range of measures, including network segmentation, traffic filtering, and the use of DDoS protection services. It is also important to regularly test and update incident response plans to ensure that the organization is prepared to respond quickly and effectively to an attack. In this project our goal is to explore different supervised and supervised machine learning techniques that could be deployed to identify a DDOS attack. 
Difference between a DOS attack and a DDOS attack

The main difference between DoS and DDoS attacks is the number of sources of attack traffic used. DoS attacks typically use a single source of traffic to overwhelm a target system or network, while DDoS attacks use multiple sources, often in the form of a botnet, to coordinate the attack and increase its effectiveness.
While DoS attacks can be effective in certain circumstances, they are generally less powerful and easier to mitigate than DDoS attacks. DDoS attacks can generate much larger volumes of traffic and are often more difficult to detect and block, as the attack traffic is coming from multiple sources.
Related Works:
A similar study has been conducted on DDOS attack classification where two Virtual machines (mininet and ryu-controller) running on Ubuntu are developed and configured to create a network topology where traffic can be adjusted and monitored and a labeled csv file was generated by monitoring the traffic. Attacks covered in this project are TCP, UDP, ICMP  floods and Land attack.
Another project is kaggle competition on CIC-IDS2018 AWS Dataset. This dataset does not only include DDOS attacks but also consists of attacks like Brute Force, SQL Injection etc.
Lastly, just like the above project a similar DDOS attack dataset is available on kaggle (https://www.kaggle.com/datasets/jacobvs/ddos-attack-network-logs) with different features and. Attacks covered in this dataset are UDP Flood, Smurf, SIDDOS, HTTP Flood.
History of DDOS attacks ?
Distributed Denial of Service (DDoS) attacks have been around since the early days of the internet, and their history is closely tied to the evolution of network technologies and security.

Five Most Famous DDoS Attacks
1. The Google Attack, 2020  - https://blog.google/threat-analysis-group/how-were-tackling-evolving-online-threats
2. The AWS DDoS Attack in 2020 - https://aws-shield-tlr.s3.amazonaws.com/2020-Q1_AWS_Shield_TLR.pdf
3. The Mirai Krebs and OVH DDoS Attacks in 2016 - https://www.a10networks.com/blog/inside-the-mirai-malware-that-powers-iot-botnets/
4. The Mirai Dyn DDoS Attack in 2016 - https://www.zdnet.com/home-and-office/networking/the-dyn-report-what-we-know-so-far-about-the-worlds-biggest-ddos-attack/
5. The GitHub Attack in 2018 - https://www.wired.com/story/github-ddos-memcached/

Cost of DDOS attack 

The cost of a DDoS attack can vary widely depending on a number of factors, such as the duration and intensity of the attack, the target system or network, and the industry or sector being targeted. Some of the costs associated with a DDoS attack may include: 

Lost revenue: DDoS attacks can cause significant disruptions to online services and e-commerce platforms, leading to lost sales and revenue for affected businesses.
Damage to reputation: DDoS attacks can also damage a company's reputation, particularly if the attack results in extended downtime or data loss.
IT recovery costs: Businesses may incur significant costs in repairing or replacing damaged IT infrastructure and restoring service after a DDoS attack.
Legal and regulatory costs: Depending on the industry and jurisdiction, businesses may face legal and regulatory compliance costs in the aftermath of a DDoS attack, including fines and penalties.
Cost of DDoS protection: Businesses may need to invest in DDoS protection services or other measures to prevent future attacks, which can be costly.

Overall, the cost of a DDoS attack can be significant, both in terms of direct costs such as IT recovery and indirect costs such as lost revenue and damage to reputation. It is important for businesses to implement measures to mitigate the risk of DDoS attacks, such as regular security testing, redundancy and failover mechanisms, and DDoS protection services.

Information about dataset:
Our project involves using a pcapng file generated by Wireshark, a widely used tool for capturing and analyzing network packets, instead of pre-configured VMs and pre-generated datasets. We plan to extract features from the pcapng file using Wireshark and develop a machine learning model that can classify traffic as either a DDoS attack or benign traffic. To achieve our goals, we will use both supervised and unsupervised learning. The unsupervised learning task will involve classifying traffic as malicious or benign, while the supervised learning task will further classify DDoS traffic into 5 categories: Slow HTTP POST, Slow Read, Slow HTTP GET, Hulk, Goldeneye, along with benign traffic.
Data Source and Feature Engineering
There are two sources of data for this project. We used DDOS File  which is a pcapng file and contains five different categories of ddos attack. The second one was downloaded from Normal Traffic and is also a pcapng file.

DDOS Data
The ddos traffic was generated in a live network where different nodes or devices were assigned an IP address and each node was configured to execute a particular type of ddos attack. The IP addresses of the devices and their configured attacks are as follows:
192.168.1.64 was responsible for Slow HTTP GET
192.168.1.65 was responsible for Slow Read
192.168.1.66 was responsible for Slow Post
192.168.1.67 was responsible for GoldenEye
192.168.1.68 was responsible for HULK
192.168.10.124 was the node responsible for receiving the traffic
The format for this data is a pcapng file which contains information about individual packets which flowed from one device to another. It contains 912986 packets and is about 562 MB in size.

Normal Traffic
This is a capture of network traffic on a busy private network’s access point to the Internet. Similar to DDOS attack file this is also in pcapng format, contains 791615 packets and is about 351 MB in size.

Feature Engineering
Feature Engineering was basically split between two different parts. The first part focuses on extracting features from wireshark and the second part focuses on using pandas to make the rough data extracted from wireshark into a csv file ready to be used by the models.

a.  Wireshark Part
Whenever a pcapng file is opened in wireshark it shows a list of all the packets that were captured during traffic monitoring. The individual packets in wireshark look like the following screenshot.

The following steps were performed in wireshark:
Each IP address under the column “Source” performs a series of communications (sending and receiving packets) with the IP address under the destination column. In the screenshot above each row is an individual packet and a stream ID has been assigned to that packet by wireshark. We first grouped all these packets by the stream ID (TCP Stream Index column) and exported it to csv which had the following columns - "Address-A", "Port-A", "Address-B", "Port-B", "Packets", "Bytes", "StreamID", "TotalPackets", "PerctageFiltered", "Packets_A-to-B(TX_pkts)", "Bytes_A-to-B(TX_bytes)", "Packets_B-to-A(RX_pkts)", "Bytes_B-to-A(RX_bytes)", "Relative_Start", "Duration", "Bits/s A-to-B (TX_bits/s)",  "Bits/s B-to-A (RX_bits/s)"
Once we had the above csv file we exported the table in the above screenshot which gave us a table of individual packets. The reason we had to do this because some of the features like “flags” were not being added to csv in step-1 when we tried grouping by stream ID in wireshark

The following steps were performed using pandas:
After the above steps we had two csv files one with packets grouped by stream ID and other containing individual packets. We counted the number of flags (PSH, RST, ACK, SYN, FIN) by mapping them to 1 if they were set and 0 if they were not set. After counting we grouped them by Stream ID and calculated their sum which was assigned to the “flags” column. For numeric columns like tot_kbps we aggregated them by their mean after grouping them by stream ID.
This was done separately for ddos file and normal attack file. Once we had the dataframes for both ddos and normal they were clubbed together as one single dataset. The numeric columns had to be scaled using StandardScaler for LogisticRegression and SVC
